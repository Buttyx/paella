From 388f9973672ececa4d487390e52c4b061891af7e Mon Sep 17 00:00:00 2001
From: Sergio Peiro <serpeilop@gmail.com>
Date: Wed, 23 Oct 2013 11:58:56 +0200
Subject: [PATCH] New plugins added: captions, break, social, fullscreen

---
 extended_debug.html           |    5 +-
 plugins/break.css             |   10 ++
 plugins/break.js              |  204 +++++++++++++++++++++++++++++++++++++++++
 plugins/caption_editor.css    |   10 ++
 plugins/caption_editor.js     |  196 +++++++++++++++++++++++++++++++++++++++
 plugins/comments.css          |   27 ++++++
 plugins/comments.js           |   55 +++++++++++
 plugins/description.js        |   28 ++++++
 plugins/extended_profiles.css |    4 +
 plugins/extended_profiles.js  |   79 +++++++++++++++-
 plugins/facebook_button.png   |  Bin 0 -> 2281 bytes
 plugins/fullscreen_button.png |  Bin 0 -> 2714 bytes
 plugins/fullscreenbutton.css  |   12 +++
 plugins/fullscreenbutton.js   |   64 +++++++++++++
 plugins/pluginloading.gif     |  Bin 0 -> 404 bytes
 plugins/social.css            |   42 +++++++++
 plugins/social.js             |   59 ++++++++++++
 plugins/social_button.png     |  Bin 0 -> 5161 bytes
 plugins/twitter_button.png    |  Bin 0 -> 2677 bytes
 src/00_base.js                |    8 +-
 20 files changed, 794 insertions(+), 9 deletions(-)
 create mode 100644 plugins/break.css
 create mode 100644 plugins/break.js
 create mode 100644 plugins/caption_editor.css
 create mode 100644 plugins/caption_editor.js
 create mode 100644 plugins/comments.css
 create mode 100644 plugins/comments.js
 create mode 100644 plugins/description.css
 create mode 100644 plugins/description.js
 create mode 100644 plugins/facebook_button.png
 create mode 100644 plugins/fullscreen_button.png
 create mode 100644 plugins/fullscreenbutton.css
 create mode 100644 plugins/fullscreenbutton.js
 create mode 100644 plugins/pluginloading.gif
 create mode 100644 plugins/social.css
 create mode 100644 plugins/social.js
 create mode 100644 plugins/social_button.png
 create mode 100644 plugins/twitter_button.png

diff --git a/extended_debug.html b/extended_debug.html
index d3a0945..fd2adea 100644
--- a/extended_debug.html
+++ b/extended_debug.html
@@ -49,7 +49,7 @@
 		
 		paella.plugins.myRightBarPlugin = new paella.plugins.MyRightBarPlugin();
 		
-		paella.plugins.MyTabBarPlugin = Class.create(paella.TabBarPlugin,{
+		/*paella.plugins.MyTabBarPlugin = Class.create(paella.TabBarPlugin,{
 			getSubclass:function() { return "test"; },
 			getTabName:function() { return "Test"; },
 			getName:function() { return "es.upv.paella.test.MyTabBarPlugin"; },
@@ -81,7 +81,6 @@
 			getSubclass:function() { return "test"; },
 			getTabName:function() { return "Test 2"; },
 			getName:function() { return "es.upv.paella.test.MyTabBarPlugin2"; },
-			
 			domElement:null,
 			
 			buildContent:function(domElement) {
@@ -102,7 +101,7 @@
 			}
 		});
 		
-		paella.plugins.myTabBarPlugin2 = new paella.plugins.MyTabBarPlugin2();
+		paella.plugins.myTabBarPlugin2 = new paella.plugins.MyTabBarPlugin2();*/
 		
 		</script>
 	</head>
diff --git a/plugins/break.css b/plugins/break.css
new file mode 100644
index 0000000..b16a0da
--- /dev/null
+++ b/plugins/break.css
@@ -0,0 +1,10 @@
+.textBreak {
+	background-color: rgba(128,128,128,0.7);
+	text-align: center;
+	color: white;
+	line-height: 17px;
+	font-size: 18px;
+	padding-top: 10px;
+	padding-bottom: 10px;
+	border-radius: 12px;
+}
\ No newline at end of file
diff --git a/plugins/break.js b/plugins/break.js
new file mode 100644
index 0000000..f483231
--- /dev/null
+++ b/plugins/break.js
@@ -0,0 +1,204 @@
+paella.plugins.BreaksEditorPlugin = Class.create(paella.editor.TrackPlugin,{
+	tracks:null,
+	selectedTrackItem:null,
+	
+	checkEnabled:function(onSuccess) {
+		var This = this;
+		this.tracks = [];
+		paella.data.read('breaks',{id:paella.initDelegate.getId()},function(data,status) {
+			if (data && typeof(data)=='object' && data.breaks && data.breaks.length>0) {
+				This.tracks = data.breaks;
+			}
+			onSuccess(true);
+		});
+	},
+
+	setup:function() {
+		if (paella.utils.language()=="es") {
+			var esDict = {
+				'Breaks':'Descansos',
+				'Break':'Descanso',
+				'Create a new break in the current position': 'Añade un descanso en el instante actual',
+				'Delete selected break': 'Borra el descanso seleccionado'
+			};
+			paella.dictionary.addDictionary(esDict);
+		}
+	},
+
+	getTrackItems:function() {
+		return this.tracks;
+	},
+	
+	getTools:function() {
+		return [
+			{name:'create',label:paella.dictionary.translate('Create'),hint:paella.dictionary.translate('Create a new break in the current position')},
+			{name:'delete',label:paella.dictionary.translate('Delete'),hint:paella.dictionary.translate('Delete selected break')}
+		];
+	},
+	
+	onToolSelected:function(toolName) {
+		if (this.selectedTrackItem && toolName=='delete' && this.selectedTrackItem) {
+			paella.events.trigger(paella.events.documentChanged);
+			this.tracks.splice(this.tracks.indexOf(this.selectedTrackItem),1);
+			return true;
+		}
+		else if (toolName=='create') {
+			paella.events.trigger(paella.events.documentChanged);
+			var start = paella.player.videoContainer.currentTime();
+			var end = start + 30;
+			var id = this.getTrackUniqueId();
+			var content = paella.dictionary.translate('Break');
+			this.tracks.push({id:id,s:start,e:end,content:content,name:content});
+			return true;
+		}
+	},
+	
+	getTrackUniqueId:function() {
+		var newId = -1;
+		if (this.tracks.length==0) return 1;
+		for (var i=0;i<this.tracks.length;++i) {
+			if (newId<=this.tracks[i].id) {
+				newId = this.tracks[i].id + 1;
+			}
+		}
+		return newId;
+	},
+	
+	getName:function() {
+		return "es.upv.paella.editor.trackBreaks";
+	},
+	
+	getTrackName:function() {
+		return paella.dictionary.translate("Breaks");
+	},
+	
+	getColor:function() {
+		return 'rgb(226, 228, 204)';
+	},
+	
+	getTextColor:function() {
+		return 'rgb(90,90,90)';
+	},
+	
+	onTrackChanged:function(id,start,end) {
+		paella.events.trigger(paella.events.documentChanged);
+		var item = this.getTrackItem(id);
+		if (item) {
+			item.s = start;
+			item.e = end;
+			this.selectedTrackItem = item;
+		}
+	},
+	
+	onTrackContentChanged:function(id,content) {
+		paella.events.trigger(paella.events.documentChanged);
+		var item = this.getTrackItem(id);
+		if (item) {
+			item.content = content;
+			item.name = content;
+		}
+	},
+	
+	allowEditContent:function() {
+		return true;
+	},
+	
+	getTrackItem:function(id) {
+		for (var i=0;i<this.tracks.length;++i) {
+			if (this.tracks[i].id==id) return this.tracks[i];
+		}
+	},
+	
+	contextHelpString:function() {
+		if (paella.utils.language()=="es") {
+			return "Utiliza esta herramienta para crear, borrar y editar descansos. Para crear un descanso, selecciona el instante de tiempo haciendo clic en el fondo de la línea de tiempo, y pulsa el botón 'Crear'. Utiliza esta pestaña para editar el texto de los descansos";
+		}
+		else {
+			return "Use this tool to create, delete and edit breaks. To create a break, select the time instant clicking the timeline's background and press 'create' button. Use this tab to edit the break text.";
+		}
+	},
+	
+	onSave:function(success) {
+		var data = {
+			breaks:this.tracks
+		}
+		paella.data.write('breaks',{id:paella.initDelegate.getId()},data,function(response,status) {
+			paella.plugins.breaksPlayerPlugin.breaks = data.breaks;
+			success(status);
+		});
+		
+	}
+});
+
+paella.plugins.breaksEditorPlugin = new paella.plugins.BreaksEditorPlugin();
+
+
+paella.plugins.BreaksPlayerPlugin = Class.create(paella.EventDrivenPlugin,{
+	breaks:null,
+	lastEvent:0,
+	visibleBreaks:null,
+
+	getName:function() { return "es.upv.paella.BreaksPlayerPlugin"; },
+	checkEnabled:function(onSuccess) {
+		var This = this;
+		this.breaks = [];
+		this.visibleBreaks = [];
+		paella.data.read('breaks',{id:paella.initDelegate.getId()},function(data,status) {
+			if (data && typeof(data)=='object' && data.breaks && data.breaks.length>0) {
+				This.breaks = data.breaks;
+			}
+			onSuccess(true);
+		});
+	},
+		
+	getEvents:function() { return [paella.events.timeUpdate]; },
+
+	onEvent:function(eventType,params) {
+		this.checkBreaks(params);
+	},
+	
+	checkBreaks:function(params) {
+		for (var i=0; i<this.breaks.length; ++i) {
+			var a = this.breaks[i];
+			
+			if (a.s<params.currentTime && a.e>params.currentTime) {
+				this.showBreaks(a);
+			} else if (a.s.toFixed(0) == params.currentTime.toFixed(0)){
+				this.avoidBreak(a);
+			}
+		}
+		
+		for (var key in this.visibleBreaks) {
+			if (typeof(a)=='object') {
+				var a = this.visibleBreaks[key];
+				if (a && (a.s>=params.currentTime || a.e<=params.currentTime)) {
+					this.removeBreak(a);
+				}
+			}
+		}
+	},
+	
+	showBreaks:function(br) {
+		if (!this.visibleBreaks[br.s]) {
+			var rect = {left:100,top:350,width:1080,height:20};
+			br.elem = paella.player.videoContainer.overlayContainer.addText(br.content,rect);
+			br.elem.className = 'textBreak';
+			this.visibleBreaks[br.s] = br;
+		}
+	},
+	
+	removeBreak:function(br) {
+		if (this.visibleBreaks[br.s]) {
+			var elem = this.visibleBreaks[br.s].elem;
+			paella.player.videoContainer.overlayContainer.removeElement(elem);
+			this.visibleBreaks[br.s] = null;
+		}
+	},
+	
+	avoidBreak:function(br){
+		var newTime = br.e; 
+		paella.events.trigger(paella.events.seekToTime,{time:newTime});
+	}
+});
+
+paella.plugins.breaksPlayerPlugin = new paella.plugins.BreaksPlayerPlugin();
diff --git a/plugins/caption_editor.css b/plugins/caption_editor.css
new file mode 100644
index 0000000..520b1b0
--- /dev/null
+++ b/plugins/caption_editor.css
@@ -0,0 +1,10 @@
+.textCaption {
+	background-color: rgba(128,128,128,0.7);
+	text-align: center;
+	color: white;
+	line-height: 17px;
+	font-size: 18px;
+	padding-top: 10px;
+	padding-bottom: 10px;
+	border-radius: 12px;
+}
\ No newline at end of file
diff --git a/plugins/caption_editor.js b/plugins/caption_editor.js
new file mode 100644
index 0000000..47407dd
--- /dev/null
+++ b/plugins/caption_editor.js
@@ -0,0 +1,196 @@
+paella.plugins.CaptionsEditorPlugin = Class.create(paella.editor.TrackPlugin,{
+	tracks:null,
+	selectedTrackItem:null,
+	
+	checkEnabled:function(onSuccess) {
+		var This = this;
+		this.tracks = [];
+		paella.data.read('captions',{id:paella.initDelegate.getId()},function(data,status) {
+			if (data && typeof(data)=='object' && data.captions && data.captions.length>0) {
+				This.tracks = data.captions;
+			}
+			onSuccess(true);
+		});
+	},
+
+	setup:function() {
+		if (paella.utils.language()=="es") {
+			var esDict = {
+				'Captions':'Subtítulos',
+				'Caption':'Subtítulo',
+				'Create a new caption in the current position': 'Añade un subtítulo en el instante actual',
+				'Delete selected caption': 'Borra el subtítulo seleccionado'
+			};
+			paella.dictionary.addDictionary(esDict);
+		}
+	},
+
+	getTrackItems:function() {
+		return this.tracks;
+	},
+	
+	getTools:function() {
+		return [
+			{name:'create',label:paella.dictionary.translate('Create'),hint:paella.dictionary.translate('Create a new caption in the current position')},
+			{name:'delete',label:paella.dictionary.translate('Delete'),hint:paella.dictionary.translate('Delete selected caption')}
+		];
+	},
+	
+	onToolSelected:function(toolName) {
+		if (this.selectedTrackItem && toolName=='delete' && this.selectedTrackItem) {
+			paella.events.trigger(paella.events.documentChanged);
+			this.tracks.splice(this.tracks.indexOf(this.selectedTrackItem),1);
+			return true;
+		}
+		else if (toolName=='create') {
+			paella.events.trigger(paella.events.documentChanged);
+			var start = paella.player.videoContainer.currentTime();
+			var end = start + 30;
+			var id = this.getTrackUniqueId();
+			var content = paella.dictionary.translate('Caption');
+			this.tracks.push({id:id,s:start,e:end,content:content,name:content});
+			return true;
+		}
+	},
+	
+	getTrackUniqueId:function() {
+		var newId = -1;
+		if (this.tracks.length==0) return 1;
+		for (var i=0;i<this.tracks.length;++i) {
+			if (newId<=this.tracks[i].id) {
+				newId = this.tracks[i].id + 1;
+			}
+		}
+		return newId;
+	},
+	
+	getName:function() {
+		return "es.upv.paella.editor.trackCaptions";
+	},
+	
+	getTrackName:function() {
+		return paella.dictionary.translate("Captions");
+	},
+	
+	getColor:function() {
+		return 'rgb(159, 166, 88)';
+	},
+	
+	getTextColor:function() {
+		return 'rgb(90,90,90)';
+	},
+	
+	onTrackChanged:function(id,start,end) {
+		paella.events.trigger(paella.events.documentChanged);
+		var item = this.getTrackItem(id);
+		if (item) {
+			item.s = start;
+			item.e = end;
+			this.selectedTrackItem = item;
+		}
+	},
+	
+	onTrackContentChanged:function(id,content) {
+		paella.events.trigger(paella.events.documentChanged);
+		var item = this.getTrackItem(id);
+		if (item) {
+			item.content = content;
+			item.name = content;
+		}
+	},
+	
+	allowEditContent:function() {
+		return true;
+	},
+	
+	getTrackItem:function(id) {
+		for (var i=0;i<this.tracks.length;++i) {
+			if (this.tracks[i].id==id) return this.tracks[i];
+		}
+	},
+	
+	contextHelpString:function() {
+		if (paella.utils.language()=="es") {
+			return "Utiliza esta herramienta para crear, borrar y editar subtítulos. Para crear un subtítulo, selecciona el instante de tiempo haciendo clic en el fondo de la línea de tiempo, y pulsa el botón 'Crear'. Utiliza esta pestaña para editar el texto de los subtítulos";
+		}
+		else {
+			return "Use this tool to create, delete and edit video captions. To create a caption, select the time instant clicking the timeline's background and press 'create' button. Use this tab to edit the caption text.";
+		}
+	},
+	
+	onSave:function(success) {
+		var data = {
+			captions:this.tracks
+		}
+		paella.data.write('captions',{id:paella.initDelegate.getId()},data,function(response,status) {
+			paella.plugins.captionsPlayerlugin.captions = data.captions;
+			success(status);
+		});
+	}
+});
+
+paella.plugins.captionsEditorPlugin = new paella.plugins.CaptionsEditorPlugin();
+
+
+paella.plugins.CaptionsPlayerPlugin = Class.create(paella.EventDrivenPlugin,{
+	captions:null,
+	lastEvent:0,
+	
+	visibleCaptions:null,
+
+	getName:function() { return "es.upv.paella.CaptionsPlayerPlugin"; },
+	checkEnabled:function(onSuccess) {
+		var This = this;
+		this.captions = [];
+		this.visibleCaptions = [];
+		paella.data.read('captions',{id:paella.initDelegate.getId()},function(data,status) {
+			if (data && typeof(data)=='object' && data.captions && data.captions.length>0) {
+				This.captions = data.captions;
+			}
+			onSuccess(true);
+		});
+	},
+		
+	getEvents:function() { return [paella.events.timeUpdate]; },
+
+	onEvent:function(eventType,params) {
+		this.checkCaptions(params);
+	},
+	
+	checkCaptions:function(params) {
+		for (var i=0; i<this.captions.length; ++i) {
+			var a = this.captions[i];
+			if (a.s<params.currentTime && a.e>params.currentTime) {
+				this.showCaption(a);
+			}
+		}
+		
+		for (var key in this.visibleCaptions) {
+			if (typeof(a)=='object') {
+				var a = this.visibleCaptions[key];
+				if (a && (a.s>=params.currentTime || a.e<=params.currentTime)) {
+					this.removeCaption(a);
+				}
+			}
+		}
+	},
+	
+	showCaption:function(caption) {
+		if (!this.visibleCaptions[caption.s]) {
+			var rect = {left:100,top:650,width:1080,height:20};
+			caption.elem = paella.player.videoContainer.overlayContainer.addText(caption.content,rect);
+			caption.elem.className = 'textCaption';
+			this.visibleCaptions[caption.s] = caption;
+		}
+	},
+	
+	removeCaption:function(caption) {
+		if (this.visibleCaptions[caption.s]) {
+			var elem = this.visibleCaptions[caption.s].elem;
+			paella.player.videoContainer.overlayContainer.removeElement(elem);
+			this.visibleCaptions[caption.s] = null;
+		}
+	}
+});
+
+paella.plugins.captionsPlayerlugin = new paella.plugins.CaptionsPlayerPlugin();
diff --git a/plugins/comments.css b/plugins/comments.css
new file mode 100644
index 0000000..544b124
--- /dev/null
+++ b/plugins/comments.css
@@ -0,0 +1,27 @@
+.CommentPlugin_Loading {
+    background-image: url("pluginloading.gif");
+    background-repeat: no-repeat;
+    background-position: center;
+    margin-top: 10px;
+    width: 100%;
+    height: 11px;
+    display:block;
+}
+
+.CommentPlugin_Comments {
+	/*position: absolute;
+	overflow: auto;
+	bottom: 123px;
+	top: 65px;
+	left: 10px;
+	right: 10px;*/
+	box-shadow: inset 0px 0px 10px 2px rgba(10, 10,10, 0.39);
+	border-radius: 7px;
+	padding-left: 13px;
+}
+
+/*.bottomContainer.big{
+width: 300px;
+overflow-x:auto;
+overflow-y:hidden;
+}*/
\ No newline at end of file
diff --git a/plugins/comments.js b/plugins/comments.js
new file mode 100644
index 0000000..ff2f212
--- /dev/null
+++ b/plugins/comments.js
@@ -0,0 +1,55 @@
+paella.plugins.CommentsPlugin = Class.create(paella.TabBarPlugin,{
+	id:null,
+	divRoot:null,
+	divPublishComment:null,
+	divComments:null,
+	divLoading:null,
+  
+	getSubclass:function() { return "showCommentsTabBar"; },
+	getName:function() { return "es.upv.paella.commentsPlugin"; },
+	getTabName:function() { return "Comentarios"; },
+			
+	domElement:null,
+			
+	buildContent:function(domElement) {
+		this.domElement = domElement;
+		this.loadContent();
+	},
+			
+	action:function(tab) {
+		this.loadContent();
+	},
+			
+	loadContent:function() {
+		var container = this.domElement;
+		container.innerHTML = "Loading...";
+		new paella.Timer(function(t) {
+			container.innerHTML = "Loading done";
+		},2000);
+		
+		/*var container = this.domElement;
+		
+		this.divPublishComment = document.createElement('div');
+		this.divPublishComment.className = 'CommentPlugin_Publish';
+		
+		this.divLoading = document.createElement('div');
+		this.divLoading.className = 'CommentPlugin_Loading';		
+		
+		this.divComments = document.createElement('div'); 
+		this.divComments.className = 'CommentPlugin_Comments';
+		this.divComments.innerHTML = "Texto";
+
+		
+		container.appendChild(this.divPublishComment);
+		container.appendChild(this.divLoading);
+		container.appendChild(this.divComments);*/
+		
+		
+		
+	}
+	
+});
+  
+
+paella.plugins.commentsPlugin = new paella.plugins.CommentsPlugin();
+
diff --git a/plugins/description.css b/plugins/description.css
new file mode 100644
index 0000000..e69de29
diff --git a/plugins/description.js b/plugins/description.js
new file mode 100644
index 0000000..2ba786a
--- /dev/null
+++ b/plugins/description.js
@@ -0,0 +1,28 @@
+paella.plugins.DescriptionPlugin = Class.create(paella.TabBarPlugin,{
+	getSubclass:function() { return "showDescriptionTabBar"; },
+	getName:function() { return "es.upv.paella.descriptionPlugin"; },
+	getTabName:function() { return "Descripción"; },
+			
+	domElement:null,
+			
+	buildContent:function(domElement) {
+		this.domElement = domElement;
+		this.loadContent();
+	},
+			
+	action:function(tab) {
+		this.loadContent();
+	},
+			
+	loadContent:function() {
+		var container = this.domElement;
+		container.innerHTML = "Loading...";
+		new paella.Timer(function(t) {
+			container.innerHTML = "Loading done";
+		},2000);
+	}
+	
+});
+  
+
+paella.plugins.descriptionPlugin = new paella.plugins.DescriptionPlugin();
\ No newline at end of file
diff --git a/plugins/extended_profiles.css b/plugins/extended_profiles.css
index ea5c268..2f86097 100644
--- a/plugins/extended_profiles.css
+++ b/plugins/extended_profiles.css
@@ -45,3 +45,7 @@
 .extendedProfilesItemButton.small {
 	background-image: url(extended_player_profile_small.png);
 }
+
+.extendedProfilesItemButton.fullScr {
+	background-image: url(fullscreen_button.png);
+}
diff --git a/plugins/extended_profiles.js b/plugins/extended_profiles.js
index f4db211..c84d175 100644
--- a/plugins/extended_profiles.js
+++ b/plugins/extended_profiles.js
@@ -13,7 +13,7 @@ paella.plugins.ExtendedProfilesPlugin = Class.create(paella.ButtonPlugin,{
 	buildContent:function(domElement) {
 		var thisClass = this;
 		this.buttonItems = {};
-		extendedModes = ['full','big','small'];
+		extendedModes = ['fullScr','full','big','small'];
 		for (var mode in extendedModes){
 		  var modeData = extendedModes[mode];
 		  var buttonItem = thisClass.getProfileItemButton(mode,modeData);
@@ -38,14 +38,83 @@ paella.plugins.ExtendedProfilesPlugin = Class.create(paella.ButtonPlugin,{
 	},
 	
 	onItemClick:function(button,profile,profileData) {
-	  this.buttonItems[extendedModes.indexOf(paella.extended.getProfile())].className = this.getButtonItemClass(paella.extended.getProfile(),false);
-	  this.buttonItems[profile].className = this.getButtonItemClass(profileData,true);
-	  paella.extended.setProfile(button.data.profileData);
-	  paella.events.trigger(paella.events.hidePopUp,{identifier:this.getName()});
+		if (profileData == "fullScr") {
+			//paella.extended.setProfile('full');
+			this.switchFullScreen(profile,profileData);
+		} else {
+			if (this.isFullscreen()) {
+				if (document.webkitCancelFullScreen) {
+					document.webkitCancelFullScreen();
+				}
+				else if (document.mozCancelFullScreen) {
+					document.mozCancelFullScreen();
+				}
+				else if (document.cancelFullScreen) {
+					document.cancelFullScreen();
+				}
+				this.buttonItems[0].className  = this.getButtonItemClass(profileData,false);
+			}
+			
+			this.buttonItems[extendedModes.indexOf(paella.extended.getProfile())].className = this.getButtonItemClass(paella.extended.getProfile(),false);
+			this.buttonItems[profile].className = this.getButtonItemClass(profileData,true);
+			paella.extended.setProfile(button.data.profileData);
+	  }
+	    paella.events.trigger(paella.events.hidePopUp,{identifier:this.getName()});
 	},
 	
 	getButtonItemClass:function(profileName,selected) {
 		return 'extendedProfilesItemButton ' + profileName  + ((selected) ? ' selected':'');
+	},
+	
+	switchFullScreen:function(profile,profileData){
+		var fs = document.getElementById(paella.player.mainContainer.id);
+		fs.style.width = '100%';
+		fs.style.height = '100%';
+		if (this.isFullscreen()) {
+			this.buttonItems[extendedModes.indexOf(paella.extended.getProfile())].className = this.getButtonItemClass(paella.extended.getProfile(),true);
+			if (document.webkitCancelFullScreen) {
+				document.webkitCancelFullScreen();
+				this.buttonItems[profile].className  = this.getButtonItemClass(profileData,false);
+			}
+			else if (document.mozCancelFullScreen) {
+				document.mozCancelFullScreen();
+				this.buttonItems[profile].className = this.getButtonItemClass(profileData,false);
+			}
+			else if (document.cancelFullScreen) {
+				document.cancelFullScreen();
+				this.buttonItems[profile].className  = this.getButtonItemClass(profileData,false);
+			}
+		}
+		else {
+			this.buttonItems[extendedModes.indexOf(paella.extended.getProfile())].className = this.getButtonItemClass(paella.extended.getProfile(),false);
+			if (fs.webkitRequestFullScreen) {
+				fs.webkitRequestFullScreen();
+				this.buttonItems[profile].className  = this.getButtonItemClass(profileData,true);
+				
+			}
+			else if (fs.mozRequestFullScreen){
+				fs.mozRequestFullScreen();
+				this.buttonItems[profile].className  = this.getButtonItemClass(profileData,true);
+			}
+			else if (fs.requestFullScreen()) {
+				fs.requestFullScreen();
+				this.buttonItems[profile].className  = this.getButtonItemClass(profileData,true);
+			  
+			}
+			else {
+				alert('Your browser does not support fullscreen mode');
+			}
+		}
+	},
+	
+	isFullscreen:function() {
+		if (document.webkitIsFullScreen!=undefined) {
+			return document.webkitIsFullScreen;
+		}
+		else if (document.mozFullScreen!=undefined) {
+			return document.mozFullScreen;
+		}
+		return false;
 	}
 	
 });
diff --git a/plugins/facebook_button.png b/plugins/facebook_button.png
new file mode 100644
index 0000000000000000000000000000000000000000..46028a4e952a55322997c819ccd8c6a45c927289
GIT binary patch
literal 2281
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
H#%=inM7xtJ

literal 0
HcmV?d00001

diff --git a/plugins/fullscreen_button.png b/plugins/fullscreen_button.png
new file mode 100644
index 0000000000000000000000000000000000000000..d9d29b99f9492c1d4748eb478d891ef6cdfb3857
GIT binary patch
literal 2714
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

literal 0
HcmV?d00001

diff --git a/plugins/fullscreenbutton.css b/plugins/fullscreenbutton.css
new file mode 100644
index 0000000..aa37031
--- /dev/null
+++ b/plugins/fullscreenbutton.css
@@ -0,0 +1,12 @@
+.showFullScreenButton {
+	background-image: url(fullscreen_button.png);
+	background-size: 200%;	
+}
+
+.showFullScreenButton:hover {
+	background-color: rgb(171,178,178);
+}
+
+.showFullScreenButton.active {
+	background-position:-40px 0px;
+}
\ No newline at end of file
diff --git a/plugins/fullscreenbutton.js b/plugins/fullscreenbutton.js
new file mode 100644
index 0000000..32f5945
--- /dev/null
+++ b/plugins/fullscreenbutton.js
@@ -0,0 +1,64 @@
+paella.plugins.FullScreenPlugin = Class.create(paella.ButtonPlugin, {
+	getIndex:function() { return 104; },
+	getAlignment:function() { return 'right'; },
+	getSubclass:function() { return "showFullScreenButton"; },
+	getName:function() { return "es.upv.paella.fullScreenButtonPlugin"; },
+	checkEnabled:function(onSuccess) { onSuccess(!paella.extended); },
+
+					       
+	action:function(button) {
+		var fs = document.getElementById(paella.player.mainContainer.id);
+		fs.style.width = '100%';
+		fs.style.height = '100%';
+		if (this.isFullscreen()) {
+		 
+			if (document.webkitCancelFullScreen) {
+				document.webkitCancelFullScreen();
+				button.className = this.getButtonItemClass(false);
+			}
+			else if (document.mozCancelFullScreen) {
+				document.mozCancelFullScreen();
+				button.className = this.getButtonItemClass(false);
+			}
+			else if (document.cancelFullScreen) {
+				document.cancelFullScreen();
+				button.className = this.getButtonItemClass(false);
+			}
+			
+			
+		}
+		else {
+			if (fs.webkitRequestFullScreen) {
+				fs.webkitRequestFullScreen();
+				button.className = this.getButtonItemClass(true);
+			}
+			else if (fs.mozRequestFullScreen){
+				fs.mozRequestFullScreen();
+				button.className = this.getButtonItemClass(true);
+			}
+			else if (fs.requestFullScreen()) {
+				fs.requestFullScreen();
+				button.className = this.getButtonItemClass(true);
+			}
+			else {
+				alert('Your browser does not support fullscreen mode');
+			}
+		}
+	},
+	
+	isFullscreen:function() {
+		if (document.webkitIsFullScreen!=undefined) {
+			return document.webkitIsFullScreen;
+		}
+		else if (document.mozFullScreen!=undefined) {
+			return document.mozFullScreen;
+		}
+		return false;
+	},
+	
+	getButtonItemClass:function(selected) {
+		return 'buttonPlugin '+this.getAlignment() +' '+ this.getSubclass() + ((selected) ? ' active':'');
+	}
+});
+
+paella.plugins.fullScreenPlugin = new paella.plugins.FullScreenPlugin();
diff --git a/plugins/pluginloading.gif b/plugins/pluginloading.gif
new file mode 100644
index 0000000000000000000000000000000000000000..9d67a22ab137599f4cc1f7dce547e7830aa8e284
GIT binary patch
literal 404
zcmZ?wbhEHb)Mnsj_{hNU_xZVB`KrIyR0B!H|J;7AA;Hd$0j@@R2F#2M3=E3@q@0UV
z6H8K46v{J8G87WC5-W1@6I1ju^V0Ge6o0aCasgH805Jo|Kn5nGmOhTt({A2q{(O{6
z`d--Q)2$E8+9Dzsrm5H7o3(E_Pr9z>_4ZSGzm9DFX}4p6f{~9X&=O2zY>xnqQQ%KZ
z-Z-n}_?nu}GZOE8?@5_4WB#dyUd~<xIy>02&u(1%QiX35W2%T$e#EERzEggeAI;K9
z3Oc?XyNMu&830XOIV&srPW~f)F5&H!4=a0?Tv@PU7vD1OL$7_3%{rf-JooZv(5xA2
zOwSnfxSx9YX(rIb73;8?=m7QVj48X=rRz5S+L`LJ!eqX?T%cBo`q6bOfAeiLo4s{z
m|KClIC#E>ZzI~?cRd&KvSYS_r(m4UqUrZtl4A!7<0|NjRZI|N!

literal 0
HcmV?d00001

diff --git a/plugins/social.css b/plugins/social.css
new file mode 100644
index 0000000..6a16420
--- /dev/null
+++ b/plugins/social.css
@@ -0,0 +1,42 @@
+.showSocialPluginButton {
+	background-image: url(social_button.png);
+	background-size: 200%;
+}
+
+.buttonPluginPopUp.showSocialPluginButton {
+	background-image:none;
+}
+
+.buttonPlugin.showSocialPluginButton:hover {
+	background-color: rgb(171,178,178);
+}
+
+.buttonPlugin.showSocialPluginButton.selected {
+	background-position:-40px 0px;
+}
+
+.socialItemButton {  /*crea el popup*/
+	background-repeat:no-repeat;
+	background-size: 200% auto;
+	width: 40px;
+	height: 40px;
+	cursor: pointer;
+	background-color: rgba(128,128,128,0.8);
+}
+
+.socialItemButton:hover {
+	background-color: rgba(90,90,90,0.8);
+}
+
+.socialItemButton.selected {
+	background-position:-40px 0px;
+}
+
+.socialItemButton.facebook{
+	background-image: url(facebook_button.png);
+}
+
+.socialItemButton.twitter {
+	background-image: url(twitter_button.png);
+}
+
diff --git a/plugins/social.js b/plugins/social.js
new file mode 100644
index 0000000..96f389c
--- /dev/null
+++ b/plugins/social.js
@@ -0,0 +1,59 @@
+paella.plugins.SocialPlugin = Class.create(paella.ButtonPlugin,{
+	buttonItems: null,
+	socialMedia: null,
+	getAlignment:function() { return 'right'; },
+	getSubclass:function() { return "showSocialPluginButton"; },
+	getIndex:function() { return 103; },
+	getMinWindowSize:function() { return 300; },
+	getName:function() { return "es.upv.paella.socialPlugin"; },
+	checkEnabled:function(onSuccess) { onSuccess(true); },
+	
+	getButtonType:function() { return paella.ButtonPlugin.type.popUpButton; },
+	
+	buildContent:function(domElement) {
+		var thisClass = this;
+		this.buttonItems = {};
+		socialMedia = ['facebook','twitter'];
+		for (var media in socialMedia){
+		  var mediaData = socialMedia[media];
+		  var buttonItem = thisClass.getSocialMediaItemButton(mediaData);
+		  thisClass.buttonItems[media] = buttonItem;
+		  domElement.appendChild(buttonItem);
+		}
+	},
+	
+	getSocialMediaItemButton:function(mediaData) {
+		var elem = document.createElement('div');
+		elem.className = 'socialItemButton ' + mediaData
+		elem.id = mediaData + '_button';
+		elem.data = {
+			mediaData:mediaData,
+			plugin:this
+		}
+		$(elem).click(function(event) {
+			this.data.plugin.onItemClick(this.data.mediaData);
+		});
+		return elem;
+	},
+	
+	onItemClick:function(mediaData) {
+		var url = this.getVideoUrl();
+		switch (mediaData) {
+			case ('twitter'):
+				window.open('http://twitter.com/home?status=' + url);
+				break;
+			case ('facebook'):
+				window.open('http://www.facebook.com/sharer.php?u=' + url);
+				break;  
+                }
+		paella.events.trigger(paella.events.hidePopUp,{identifier:this.getName()});
+	},
+	
+	getVideoUrl:function() {
+		var url = document.location.href;
+		return url;
+	}
+});
+  
+
+paella.plugins.socialPlugin = new paella.plugins.SocialPlugin();
diff --git a/plugins/social_button.png b/plugins/social_button.png
new file mode 100644
index 0000000000000000000000000000000000000000..4fab9d65426b2421f16f09cec43e91b3ec5e8782
GIT binary patch
literal 5161
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

literal 0
HcmV?d00001

diff --git a/plugins/twitter_button.png b/plugins/twitter_button.png
new file mode 100644
index 0000000000000000000000000000000000000000..c090e0f9461e6878ca5672bce46101b0b4c99d65
GIT binary patch
literal 2677
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
Jalt1l?ccz^Y2^R_

literal 0
HcmV?d00001

diff --git a/src/00_base.js b/src/00_base.js
index 115ae4e..3dd56c7 100644
--- a/src/00_base.js
+++ b/src/00_base.js
@@ -47,7 +47,13 @@ paella.pluginList = [
 	'extended_profiles.js',
 	'trimming.js',
 	'annotations.js',
-	'consolidate.js'
+	'consolidate.js',
+	'social.js',
+	'fullscreenbutton.js',
+	'caption_editor.js',
+	'break.js',
+	'comments.js',
+	'description.js'
 ];
 
 paella.events = {
-- 
1.7.9.5

